--- /proc/self/fd/11	2022-03-06 21:21:35.461224883 -0100
+++ kore_mustach.c	2022-03-06 21:21:01.941223025 -0100
@@ -338,9 +338,6 @@
         if ((item = kore_json_find(o, name, type)) != NULL)
             return (item);
 
-        if (kore_json_errno() != KORE_JSON_ERR_TYPE_MISMATCH)
-            return (NULL);
-
         type = type << 1;
     }
 
@@ -476,7 +473,7 @@
 
         case KORE_JSON_TYPE_INTEGER:
             i = kore_strtonum64(value, 1, &err);
-            return (!err) ? 0 : (o->data.integer > i) - (o->data.integer < i);
+            return (!err) ? 0 : (o->data.s64 > i) - (o->data.s64 < i);
 
         case KORE_JSON_TYPE_INTEGER_U64:
             u = kore_strtonum64(value, 0, &err);
@@ -577,9 +574,6 @@
 {
     size_t err = mustach_errno * -1;
 
-    if (mustach_errno == kore_json_errno())
-        return (kore_json_strerror());
-
     if (err < sizeof(mustach_errtab) / sizeof(mustach_errtab[0]))
         return (mustach_errtab[err]);
 
@@ -595,7 +589,6 @@
     mustach_errno = mustach_file(template, 0, &itf, &cl, flags, 0);
 
     if (mustach_errno >= 0) {
-        mustach_errno = kore_json_errno();
         *result = cl.result;
     } else {
         kore_buf_free(cl.result);
